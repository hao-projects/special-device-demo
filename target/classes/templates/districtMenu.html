<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <style>
        select{
            width:100px;
        }
    </style>
</head>
<body>
省：
<select name="" id="sheng">
    <option value="">请选择</option>
</select>
市：
<select name="" id="shi" disabled="disabled">
    <option value="">请选择</option>
</select>
区：
<select name="" id="qu" disabled="disabled">
    <option value="">请选择</option>
</select>
<<<<<<< HEAD
机构：
<select name="" id="jigou" disabled="disabled">
    <option value="">请选择</option>
</select>
<script type="text/javascript">
    var code;
=======
<script type="text/javascript">
>>>>>>> 60bfaccdfa2d311f76c902f5c9ae8e0ab80e440f
    //省
    $.getJSON("http://localhost:8080/map/provinces",function(date){
        date.forEach(function(item){
            var pOption = "<option value='"+item.code+"'>"+item.name+"</option>";
            $("#sheng").append(pOption);
        });
    });
    //市
    $("#sheng").change(function(){
        $("#shi").attr("disabled",false);
        $("#shi").children(":not(:first)").remove();
        $("#qu").children(":not(:first)").remove();
        var pId = $("#sheng").val();
        $.getJSON("http://localhost:8080/map/cities?provinceCode="+pId,function(date){

            date.forEach(function(item){

                    var sOption = "<option value='"+item.code+"'>"+item.name+"</option>";
                    $("#shi").append(sOption);

            });
        });
    });
    //区
    $("#shi").change(function(){
        $("#qu").attr("disabled",false);
        $("#qu").children(":not(:first)").remove();
        var sId = $("#shi").val();
<<<<<<< HEAD
        if(sId != null){
            code = sId;
        }
=======
>>>>>>> 60bfaccdfa2d311f76c902f5c9ae8e0ab80e440f
        $.getJSON("http://localhost:8080/map/areas?cityCode="+sId,function(date){
            console.log(date);

            date.forEach(function(item){

<<<<<<< HEAD
                    var qOption = "<option value='"+item.code+"'>"+item.name+"</option>";
=======
                    var qOption = "<option value='"+item.id+"'>"+item.name+"</option>";
>>>>>>> 60bfaccdfa2d311f76c902f5c9ae8e0ab80e440f
                    $("#qu").append(qOption);

            });
        });
    });
<<<<<<< HEAD
    //县
    $("#qu").change(function(){
        $("#jigou").attr("disabled",false);
        $("#jigou").children(":not(:first)").remove();
        var xId = $("#qu").val();
        if(xId != null){
            code = xId;
        }
        $.getJSON("http://localhost:8080/map/organizations?code="+ code,
            function(date){
            console.log(date);

            date.forEach(function(item){

                var qOption = "<option value='"+item.id+"'>"+item.name+"</option>";
                $("#jigou").append(qOption);

            });
        });
    });
=======
>>>>>>> 60bfaccdfa2d311f76c902f5c9ae8e0ab80e440f
</script>
</body>
</html>