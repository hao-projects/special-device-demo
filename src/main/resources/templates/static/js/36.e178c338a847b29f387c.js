webpackJsonp([36],{191:function(e,t,a){function i(e){a(390)}var r=a(4)(a(297),a(431),i,"data-v-8213f9b6",null);e.exports=r.exports},265:function(e,t,a){"use strict";function i(e){return a.i(s.a)("/device/get",e,"post")}function r(e){return a.i(s.a)("/device/get?"+e,e,"get")}t.b=i,t.a=r;var s=a(19)},297:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(13),s=a.n(r),o=a(6),n=a(265);t.default={data:function(){var e=this;return{options:[{value:"one",label:"按台（套）申请",children:[{value:"1",label:"锅炉"},{value:"2",label:"压力容器（气瓶除外）"},{value:"3",label:"电梯"},{value:"4",label:"起重机械"},{value:"5",label:"客运索道"},{value:"6",label:"大型游乐设施"},{value:"7",label:"场 (厂)内专用机动车辆"},{value:"8",label:"车用气瓶"}]},{value:"two",label:"按单位申请",children:[{value:"9",label:"气瓶(车用气瓶除外)"},{value:"10",label:"工业管道"}]}],deviceType:[],List:[{value:"1",label:"提交未受理"},{value:"2",label:"受理通过未审批"}],sort:[{value:"0",label:"首次申请"},{value:"1",label:"改造变更"},{value:"1",label:"移装变更"},{value:"1",label:"单位变更"},{value:"1",label:"更名变更"},{value:"1",label:"达到设计年限变更"},{value:"3",label:"停用申请"},{value:"4",label:"报废申请"}],columns5:[{title:"设备代码",key:"id"},{title:"产品名称",key:"deviceName"},{title:"设备种类",key:"deviceCategory"},{title:"设备类别",key:"deviceClass"},{title:"设备品种",key:"deviceKind"},{title:"设备代码",key:"deviceCode"},{title:"发证日期",key:"createAt",sortable:!0},{title:"更新日期",key:"updateAt",sortable:!0},{title:"登记机关",key:"acceptorAgencyName"},{title:"受理状态",key:"deviceStates"},{title:"操作",key:"opera",render:function(t,a){return 2==e.$route.query.apply_state?t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",fontSize:"5px"},on:{click:function(){e.$router.push({path:"stopUseApp",query:{deviceCode:e.data5[a.index].id}})}}},"停用申请")]):3==e.$route.query.apply_state?t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",fontSize:"5px"},on:{click:function(){e.$router.push({path:"disabledApp",query:{deviceCode:e.data5[a.index].id}})}}},"报废申请")]):4==e.$route.query.apply_state?t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",fontSize:"5px"},on:{click:function(){e.$router.push({path:"stopUseApp",query:{deviceCode:e.data5[a.index].id}})}}},"停用后启用申请")]):e.$route.query.apply_state?void 0:t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",fontSize:"5px"},on:{click:function(){e.appDetail(a.index)}}},"设备详情")])}}],data5:[],state:{0:"待处理",1:"已通过",2:"已驳回"},params:{time:"",sort:"",state:"",page:1},time:"",num:0,currentPage:1,deviceCode:""}},created:function(){this.initData()},watch:{"$route.query":function(){"/devList"==this.$route.path&&this.initData()}},methods:s()({},a.i(o.b)(["selectedDeviceOption","setApplyType"]),{initData:function(){if(this.time=["",""],this.setApplyType(this.$route.query.apply_state),console.log(this.getApplyTypeName),this.apply_state=this.$route.query.apply_state,this.apply_state){if("2"===this.apply_state||"3"===this.apply_state){var e=this.makeParams(0,10,this.time,"",!1,"");this.getOrders(e)}else if("4"===this.apply_state){var t=this.makeParams(0,10,this.time,"","","1");this.getOrders(t)}}else{var a={page:0,size:10};this.getOrders(a)}},getOrders:function(e){var t=this;n.b(e).then(function(e){if(200===e.status){t.data5=e.data.content,t.num=e.data.totalElements;for(var a=0;a<e.data.content.length;a++){var i=new Date(e.data.content[a].createAt),r=i.getFullYear()+"-",s=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"-",o=i.getDate()+" ";if(t.data5[a].createAt=r+s+o,0!==e.data.content[a].updateAt){var n=new Date(e.data.content[a].upateAt),l=n.getFullYear()+"-",p=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",d=n.getDate()+" ";t.data5[a].updateAt=l+p+d}}}else t.data5=[]}).catch(function(e){console.log(e)})},exactSearch:function(){var e=this;if(this.deviceCode){this.time=["",""],this.deviceType=[],this.deviceTypeId="";var t="deviceCode="+this.deviceCode;n.a(t).then(function(t){if(console.log(t),200===t.status){e.data5=[t.data];var a=new Date(t.data.createAt),r=a.getFullYear()+"-",s=(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-",o=a.getDate()+" ";if(e.data5[0].createAt=r+s+o,0!==t.data.content[i].updateAt){var n=new Date(t.data.content[i].updateAt),l=n.getFullYear()+"-",p=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",d=n.getDate()+" ";e.data5[i].updateAt=l+p+d}e.num=t.data.length}}).catch(function(e){console.log(e)})}},changeTime:function(e){return[e[0].getFullYear()+"-"+(parseInt(e[0].getMonth())+1)+"-"+e[0].getDate(),e[1].getFullYear()+"-"+(parseInt(e[1].getMonth())+1)+"-"+e[1].getDate()]},makeParams:function(e,t,a,i,r,s){var o={};return o.page=e,o.size=t,""!==a&&""!==a[0]&&""!==a[1]&&(o.time=this.changeTime(a)),""!==i&&(o.deviceTypeId=parseInt(i)),""!==r&&(o.processing=r),""!==s&&(o.states=parseInt(s)),o},query:function(){if(this.$refs.pages.currentPage=1,console.log(this.currentPage),this.deviceCode="",this.apply_state){if("2"===this.apply_state||"3"===this.apply_state){var e=this.makeParams(0,10,this.time,this.deviceType[1],!1,"");this.getOrders(e)}else if("4"===this.apply_state){var t=this.makeParams(0,10,this.time,this.deviceType[1],"","1");this.getOrders(t)}}else{var a=this.makeParams(0,10,this.time,this.deviceType[1],"","");this.getOrders(a)}},initSize:function(e){if(this.apply_state){if("2"===this.apply_state||"3"===this.apply_state){var t=this.makeParams(e-1,10,this.time,this.deviceType[1],!1,"");this.getOrders(t)}else if("4"===this.apply_state){var a=this.makeParams(e-1,10,this.time,this.deviceType[1],"","1");this.getOrders(a)}}else{var i=this.makeParams(e-1,10,this.time,this.deviceType[1],"","");this.getOrders(i)}},appDetail:function(e){this.$router.push({path:"deviceDetail",query:{deviceCode:this.data5[e].id}})}}),computed:s()({},a.i(o.c)(["selectedOption"]),a.i(o.a)(["getSelectedOption","getApplyTypeName"]))}},351:function(e,t,a){t=e.exports=a(172)(!0),t.push([e.i,".filter-box[data-v-8213f9b6]{display:block;border:1px solid #e5e5e5;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px;padding:10px;margin-top:10px;box-sizing:border-box}.filter-box .query[data-v-8213f9b6]{float:right;margin-right:60px;margin-top:10px}.innerBox[data-v-8213f9b6]{border-top:1px solid #e5e5e5;padding-top:10px;margin-top:10px}.list-box[data-v-8213f9b6]{display:block;height:400px;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px;border-color:#dddee1;margin-top:10px;box-sizing:border-box}.list-box .page[data-v-8213f9b6]{float:right;margin:10px}","",{version:3,sources:["/Users/zhangyunlong/Downloads/my-project/src/page/apply/avaiableDev/devList.vue"],names:[],mappings:"AACA,6BACE,cAAe,AACf,yBAA0B,AAC1B,yBAA0B,AAC1B,0BAA2B,AAC3B,+BAAgC,AAChC,8BAA+B,AAC/B,aAAc,AACd,gBAAiB,AACjB,qBAAuB,CACxB,AACD,oCACI,YAAa,AACb,kBAAmB,AACnB,eAAiB,CACpB,AACD,2BACE,6BAA8B,AAC9B,iBAAkB,AAClB,eAAiB,CAClB,AACD,2BACE,cAAe,AACf,aAAc,AACd,yBAA0B,AAC1B,0BAA2B,AAC3B,+BAAgC,AAChC,8BAA+B,AAC/B,qBAAsB,AACtB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,iCACI,YAAa,AACb,WAAa,CAChB",file:"devList.vue",sourcesContent:["\n.filter-box[data-v-8213f9b6] {\n  display: block;\n  border: 1px solid #e5e5e5;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 3px;\n  border-bottom-left-radius: 3px;\n  padding: 10px;\n  margin-top: 10px;\n  box-sizing: border-box;\n}\n.filter-box .query[data-v-8213f9b6] {\n    float: right;\n    margin-right: 60px;\n    margin-top: 10px;\n}\n.innerBox[data-v-8213f9b6] {\n  border-top: 1px solid #e5e5e5;\n  padding-top: 10px;\n  margin-top: 10px;\n}\n.list-box[data-v-8213f9b6] {\n  display: block;\n  height: 400px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 3px;\n  border-bottom-left-radius: 3px;\n  border-color: #dddee1;\n  margin-top: 10px;\n  box-sizing: border-box;\n}\n.list-box .page[data-v-8213f9b6] {\n    float: right;\n    margin: 10px;\n}\n"],sourceRoot:""}])},390:function(e,t,a){var i=a(351);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(173)("f838b352",i,!0)},431:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"devList"},[a("div",{staticClass:"filter-box"},[a("Row",[a("Col",{attrs:{span:"9"}},[a("label",[e._v("订单时间")]),e._v(" "),a("Date-picker",{staticStyle:{width:"220px",display:"inline-block"},attrs:{type:"daterange",placeholder:"选择日期",format:"yyyy/MM/dd"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),a("Col",{attrs:{span:"8"}},[a("label",[e._v("设备类别")]),e._v(" "),a("Cascader",{staticStyle:{width:"200px",display:"inline-block"},attrs:{data:e.options,trigger:"hover"},model:{value:e.deviceType,callback:function(t){e.deviceType=t},expression:"deviceType"}})],1),e._v(" "),a("Col",{attrs:{span:"7"}}),e._v(" "),a("Button",{staticClass:"query",attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"innerBox"},[a("Row",[a("Col",[a("label",[e._v("申请id精准搜索")]),e._v(" "),a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入申请id"},model:{value:e.deviceCode,callback:function(t){e.deviceCode=t},expression:"deviceCode"}}),e._v(" "),a("Button",{staticClass:"query",attrs:{type:"primary"},on:{click:e.exactSearch}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"list-box"},[a("Table",{attrs:{border:"",columns:e.columns5,data:e.data5}}),e._v(" "),a("Page",{ref:"pages",staticClass:"page",attrs:{total:this.num,size:"small","show-elevator":"","page-size":10},on:{"on-change":e.initSize}})],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=36.e178c338a847b29f387c.js.map